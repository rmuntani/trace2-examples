# Rails

Rails is a the web framework used with Ruby. A simple request to '/hello'
is used on this example.

## How to run it

```bash
bin/rails s
```

To run it with trace2:

```bash
trace2 -o full_rails_run --manual bin/rails s
```

To be able to do that on your own Rails application, it's bin/rails
file should look like the following example:

```ruby
#!/usr/bin/env ruby
begin
  load File.expand_path('../spring', __FILE__)

rescue LoadError => e
  raise unless e.message.include?('spring')
end
APP_PATH = File.expand_path('../config/application', __dir__)
require_relative '../config/boot'

ARGV.delete('trace2')  # ARGV is set by '../spring', which wrongfully adds
                       # trace2 to it
require 'rails/commands'
```

While Rails is running, perform:

```
curl localhost:3000/hello
```

As the graph generated by doing that has more than 2000 edges, dot takes
a long time to create the .pdf that shows everything that happend during
runtime. The `full_rails_run` file is the .dot representation of the full
run.

To check only the classes that interact with the ApplicationController class,
the runner_filter.yml was created.

To use it:

```bash
trace2 -o filtered_rails --filter ../runner_filter.yml bin/rails s
```

As the graph has way less edges, it's result is easily rendered as a pdf, that
is filtered_rails.pdf.
